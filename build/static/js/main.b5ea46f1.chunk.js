(this["webpackJsonpredux-example"]=this["webpackJsonpredux-example"]||[]).push([[0],{143:function(e,t,n){e.exports=n(420)},148:function(e,t,n){},420:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(55),c=n.n(o),i=(n(148),n(2)),l=n(7),u=function(e){var t=e.label,n=e.onClick,r=e.backgroundColor;return a.a.createElement("button",{style:{backgroundColor:r},onClick:n},t)},s=function(e){var t=e.modalContent,n=e.onRequestClose,o=e.visible,c=t.title,i=t.content,s=t.actions,d=t.validate,p=t.small,f=t.initialValues,b=Object(r.useState)({}),v=Object(l.a)(b,2),m=v[0],h=v[1],O=Object(r.useState)({}),j=Object(l.a)(O,2),E=j[0],y=j[1],g=Object(r.useState)(!1),x=Object(l.a)(g,2),T=x[0],C=x[1];return a.a.createElement("div",{style:{transition:"opacity 0.1s",opacity:o?1:0,position:"absolute",width:"100%",height:"100%",backgroundColor:"rgba(0,0,0,0.49)",zIndex:999,display:"flex",alignItems:"center",justifyContent:"center"}},a.a.createElement("div",{style:{width:p?200:"40%",height:"fit-content",minHeight:150,backgroundColor:"white",border:"1 px solid black",padding:15,borderRadius:15,display:"flex",flexDirection:"column",justifyContent:"space-between"}},a.a.createElement("h3",{style:{width:"100%",borderBottom:"1px solid black",paddingBottom:5}},c),a.a.createElement("div",{style:{flex:1,paddingBottom:20}},i&&i({actions:s,onContentValuesChange:function(e){var t=null;d&&(t=d(e),y(t)),h(e)},errors:T?E:{},initialValues:f})),a.a.createElement("div",{style:{borderTop:"1px solid black",paddingTop:5,display:"flex",justifyContent:"flex-end"}},s.map((function(e,t){return a.a.createElement("div",{key:t,style:{marginRight:5}},a.a.createElement(u,{backgroundColor:e.color,label:e.label,onClick:(r=e,function(){if("CONTENT_CONFIRMATION"===r.type){C(!0);var e=null;d&&(e=d(m),y(e)),r.onClick({values:m,errors:e})}else r.onClick&&r.onClick();r.requestClose&&n()})}));var r})))))},d=a.a.createContext({setModal:function(){}}),p=function(){return Object(r.useContext)(d)},f=function(e){var t=e.children,n=Object(r.useState)(!1),o=Object(l.a)(n,2),c=o[0],i=o[1],u=Object(r.useState)(!1),p=Object(l.a)(u,2),f=p[0],b=p[1],v=Object(r.useState)(null),m=Object(l.a)(v,2),h=m[0],O=m[1],j=function(){i(!0),setTimeout((function(){b(!0)}),100)},E=function(){b(!1),setTimeout((function(){i(!1),O(null)}),100)},y=function(){E()};return a.a.createElement(d.Provider,{value:{setModal:function(e){var t=e.opened,n=e.title,r=e.content,a=e.actions,o=e.validate,c=e.small,i=e.initialValues;t?(O({title:n,content:r,actions:a,validate:o,small:c,initialValues:i}),j()):E()},closeModal:y}},c&&h&&a.a.createElement(s,{visible:f,modalContent:h,onRequestClose:y}),t)},b=n(5),v=n(137),m=n(33),h=function(e){var t=e.item,n=e.onClick,r=ge(),o=r.listeners,c=r.hovered?"lightGray":"";return a.a.createElement(m.c,{onClick:function(){}},a.a.createElement("div",Object.assign({onClick:function(e){n(t,e)}},o,{style:{padding:5,borderBottom:"1px solid black",backgroundColor:c,cursor:"pointer",minWidth:150}}),t.label))},O=function(e){var t=e.children,n=e.items,r=e.onItemClick,o=e.id,c=e.menuContent;return a.a.createElement(a.a.Fragment,null,a.a.createElement(m.b,{id:o,mouseButton:0},t),a.a.createElement(m.a,{hideOnLeave:!1,id:o,style:{border:"1px solid black",backgroundColor:"white",borderBottomWidth:0,zIndex:9999}},c&&c,n&&n.map((function(e,t){return a.a.createElement(h,{key:t,item:e,onClick:r})}))))},j=["red","pink","green","yellow","purple"],E=function(e){var t=e.onSubmit,n=Object(r.useState)(j[0]),o=Object(l.a)(n,2),c=o[0],i=o[1];Object(r.useEffect)((function(){t(c)}),[]);return a.a.createElement(O,{id:"COLOR_PICKER_MENU_ID",menuContent:a.a.createElement(v.BlockPicker,{colors:j,color:c,onChange:function(e){var n=e.hex;i(n),t(n),Object(m.d)("COLOR_PICKER_MENU_ID")}})},a.a.createElement("div",{style:{display:"flex",alignItems:"baseline",padding:5,border:"1px solid black",borderRadius:5,width:100,cursor:"pointer"}},a.a.createElement("div",{style:{width:10,height:10,borderRadius:10,backgroundColor:c,marginRight:10}}),c))},y=n(12),g=n(8),x=n(21),T=function(){return a.a.createElement(x.d,null)},C="ADD_PROJECT",w="ADD_LABEL",k="PROJECTS_HAMBURGER",I="LABEL_HAM",R="INBOX-TODOS",S=[{label:"Inbox",id:R,icon:a.a.createElement("div",{style:{marginRight:10,display:"flex",alignItems:"center"}},a.a.createElement(T,null)),color:"grey"}],P=n(3),_=n.n(P),L=n(6),V=n(139),M=n.n(V);function N(e,t){return"".concat(e,"_").concat(t)}function A(e){var t=e.split("_"),n=Object(l.a)(t,2);return{filterType:n[0],itemId:n[1]}}var D="SET_UI_STATE_FIELD",B="LOAD_UI_STATE",J="SET_CURRENT_VIEW",U="projectsOpened",F="labelsOpened";var H=n(14);function z(e,t){return e.uiState[t]}function q(e){var t=Object(g.d)((function(t){return z(t,e)})),n=Object(g.c)();return[t,function(t){return n(function(e,t){return function(){var n=Object(L.a)(_.a.mark((function n(r,a,o){var c;return _.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c=o.apiMethods,r({type:D,field:e,value:t}),n.prev=2,n.next=5,c.updateUiState(Object(b.a)({},e,t));case 5:n.next=9;break;case 7:n.prev=7,n.t0=n.catch(2);case 9:case"end":return n.stop()}}),n,null,[[2,7]])})));return function(e,t,r){return n.apply(this,arguments)}}()}(e,t))}]}var W=function(e){var t={};return function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];var o=M.a.unique(JSON.stringify(r)),c=t[o];if(c)return c;var i=e.apply(void 0,r);return t[o]=i,i}}((function(e,t){return t.map((function(t){var n=Object(H.get)(e,N("PROJECTS",t.id),[]);return Object(i.a)({},t,{activeTodos:n.length})}))}));function X(){return Object(g.d)((function(e){return e.uiState.view.currentView}))}function K(){return Object(g.d)((function(e){return e.todos.projectTodoViews}))}function G(){var e=K(),t=Object(g.d)((function(e){return function(e){return e.projects.projects}(e)}));return W(e,t)}function $(e){var t=S.reduce((function(e,t){return Object(i.a)({},e,Object(b.a)({},t.id,t))}),{}),n=e?t:{};return Object(g.d)((function(e){return Object(i.a)({},e.projects.indexedProjects,{},n)}))}function Q(){var e=Object(g.d)((function(e){return e.todos.indexedTodos})),t=X(),n=K();return Object(H.get)(n,t,[]).map((function(t){return e[t]}))}var Y=function(e){var t=e.onChange,n=e.value,o=e.projects,c=function(){var e=X(),t=A(e),n=t.filterType,r=t.itemId,a=$();return"LABELS"===n||e===N("PROJECTS",R)?S.find((function(e){return e.id===R})):a[r]}();Object(r.useEffect)((function(){t(c)}),[]);var i,l=(i=n,Object(g.d)((function(e){return e.projects.projects.find((function(e){return e.id===i}))})))||c;return a.a.createElement(O,{items:[].concat(Object(y.a)(S),Object(y.a)(o),Object(y.a)([{label:"Add new project",actionType:"NEW_PROJECT",if:"NEW_PROJECT"}])),onItemClick:function(e){e.actionType?alert(e.actionType):t(e)},id:"PROJECTS_PICKER"},a.a.createElement("div",{style:{display:"flex",padding:5,alignItems:"baseline",border:"1px solid black",width:"fit-content",borderRadius:5,cursor:"pointer"}},l&&a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{style:{width:10,height:10,backgroundColor:l.color,borderRadius:10,marginRight:5}}),l.label)))},Z="COLOR_PICKER",ee="PROJECTS_PICKER",te=function(e){var t=e.type,n=e.onChange,r=e.value,o=e.label,c=e.error,i=e.items;switch(t){case ee:return a.a.createElement("div",null,a.a.createElement(Y,{onChange:n,value:r,projects:i}));case Z:return a.a.createElement("div",null,a.a.createElement("div",{style:{marginBottom:5}},o),a.a.createElement(E,{onSubmit:n}));default:return a.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},a.a.createElement("div",{style:{marginBottom:5}},o),a.a.createElement("input",{onChange:n,value:r,style:{padding:5}}),c?a.a.createElement("small",{style:{color:"red",marginLeft:5,marginTop:5}},c):null)}},ne=function(e){var t=e.x;return a.a.createElement("div",{style:{height:t}})},re=function(e){var t=e.onContentValuesChange,n=e.initialValues,o=Object(r.useState)({label:"",color:"blue"}),c=Object(l.a)(o,2),u=c[0],s=c[1];Object(r.useEffect)((function(){n&&(s(n),t(n))}),[n]);var d;return a.a.createElement("div",null,a.a.createElement(te,{value:u.label,onChange:(d="label",function(e){var n=Object(i.a)({},u,Object(b.a)({},d,e.target.value));s(n),t(n)}),label:"Project name"}),a.a.createElement(ne,{x:10}),a.a.createElement(te,{onChange:function(e){var n=Object(i.a)({},u,{color:e});s(n),t(n)},type:Z,label:"Project color"}))},ae=function(e){var t=e.onContentValuesChange,n=e.errors,o=e.initialValues,c=G(),u=Object(r.useState)({title:"",projectId:null}),s=Object(l.a)(u,2),d=s[0],p=s[1];Object(r.useEffect)((function(){o&&(p(o),t(o))}),[o]);var f=function(e,n){return function(r){var a=Object(i.a)({},d,Object(b.a)({},e,Object(H.get)(r,n)));p(a),t(a)}};return a.a.createElement("div",{style:{width:"50%",minWidth:300}},a.a.createElement(te,{error:n?n.title:null,value:d.title,onChange:f("title","target.value"),label:"Todo name"}),a.a.createElement(ne,{x:10}),a.a.createElement(te,{type:ee,onChange:f("projectId","id"),value:d.projectId,items:c}))},oe=function(e){var t=e.onContentValuesChange,n=e.initialValues,o=Object(r.useState)({label:"",color:"blue"}),c=Object(l.a)(o,2),u=c[0],s=c[1];Object(r.useEffect)((function(){n&&(s(n),t(n))}),[n]);var d;return a.a.createElement("div",null,a.a.createElement(te,{value:u.label,onChange:(d="label",function(e){var n=Object(i.a)({},u,Object(b.a)({},d,e.target.value));s(n),t(n)}),label:"Label name"}),a.a.createElement(ne,{x:10}),a.a.createElement(te,{onChange:function(e){var n=Object(i.a)({},u,{color:e});s(n),t(n)},type:Z,label:"Label color"}))},ce="CREATE_PROJECT",ie="FETCH_PROJECTS_START",le="FETCH_PROJECTS_FINNISH",ue="UPDATE_PROJECT",se="REMOVE_PROJECT";function de(e){return function(){var t=Object(L.a)(_.a.mark((function t(n,r,a){var o,c,i;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=a.apiMethods,t.prev=1,t.next=4,o.createProject(e);case 4:c=t.sent,i=c.data,n({type:ce,payload:i}),t.next=11;break;case 9:t.prev=9,t.t0=t.catch(1);case 11:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e,n,r){return t.apply(this,arguments)}}()}function pe(e){return function(){var t=Object(L.a)(_.a.mark((function t(n,r,a){var o;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=a.apiMethods,t.prev=1,t.next=4,o.updateProject(e);case 4:n({type:ue,payload:e}),t.next=9;break;case 7:t.prev=7,t.t0=t.catch(1);case 9:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(e,n,r){return t.apply(this,arguments)}}()}var fe="CREATE_LABEL",be="FETCH_LABELS_START",ve="FETCH_LABELS_FINISH",me="UPDATE_LABEL",he="REMOVE_LABEL";function Oe(e){return function(){var t=Object(L.a)(_.a.mark((function t(n,r,a){var o,c,i;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=a.apiMethods,t.prev=1,t.next=4,o.createLabel(e);case 4:c=t.sent,i=c.labels,n({type:fe,payload:i}),t.next=11;break;case 9:t.prev=9,t.t0=t.catch(1);case 11:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e,n,r){return t.apply(this,arguments)}}()}function je(e){return function(){var t=Object(L.a)(_.a.mark((function t(n,r,a){var o;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=a.apiMethods,console.log(e),t.prev=2,t.next=5,o.updateLabel(e);case 5:n({type:me,payload:e}),t.next=10;break;case 8:t.prev=8,t.t0=t.catch(2);case 10:case"end":return t.stop()}}),t,null,[[2,8]])})));return function(e,n,r){return t.apply(this,arguments)}}()}var Ee=function(e){var t=e.onConfirm,n=p(),r=n.setModal,a=n.closeModal;return function(e){var n=e.initialValues;r({opened:!0,initialValues:n,title:"New todo",content:ae,validate:function(e){var t={};return e.title||(t.title="Requuired"),t},actions:[{label:"Cancel",requestClose:!0},{label:n?"Edit":"Add",type:"CONTENT_CONFIRMATION",onClick:function(e){var n=e.values,r=e.errors;Object.values(r).length||(t(n),a())}}]})}},ye=function(){var e=p().setModal;return function(t){var n=t.title,r=t.message,o=t.onConfirm;e({small:!0,opened:!0,title:n,content:function(){return a.a.createElement("div",null,r)},actions:[{label:"Cancel",requestClose:!0},{label:"Acept",requestClose:!0,onClick:o}]})}},ge=function(){var e=Object(r.useState)(!1),t=Object(l.a)(e,2),n=t[0],a=t[1];return{listeners:{onMouseEnter:function(){return a(!0)},onMouseLeave:function(){return a(!1)}},hovered:n}},xe={hoverBackground:"#607d8b1a",hoveredIcon:"darkgrey"},Te={menuItemHeight:40,todoViewTitleSize:23};function Ce(){return{colors:xe,sizes:Te}}var we=function(e){var t=e.hovered,n=Ce().colors.hoveredIcon,r=t?n:null;return a.a.createElement(x.c,{size:15,color:r})},ke=function(e){var t=e.hovered,n=Ce().colors.hoveredIcon,r=t?n:null;return a.a.createElement(x.e,{color:r,size:15})},Ie="PLUS",Re="CONTEXT_MENU",Se="CLOSE",Pe=function(e){var t=e.type,n=e.onClick,r=e.contextMenuId,o=e.items,c=e.isVisible,i=ge(),l=i.listeners,u=i.hovered,s=u?"lightGray":"white";switch(t){case Se:return a.a.createElement("div",{style:{float:"right",marginTop:-4,opacity:c?1:0}},a.a.createElement("button",Object.assign({style:{border:"none",fontSize:20,cursor:"pointer",outline:"none",backgroundColor:s,borderRadius:4}},l,{onClick:n}),"x"));case Re:return a.a.createElement(O,{onItemClick:n,id:r,items:o},a.a.createElement("div",Object.assign({style:{display:"flex",opacity:c?1:0}},l),a.a.createElement(we,{hovered:u})));case Ie:return a.a.createElement("div",Object.assign({onClick:n},l,{style:{display:"flex",alignItems:"center",justifyContent:"center",opacity:c?1:0}}),a.a.createElement(ke,{hovered:u}));default:return null}},_e=[{label:"edit",id:"EDIT"},{label:"delete",id:"DELETE"}],Le=function(e){var t=e.type,n=e.itemId,r=e.isVisible,o=void 0===r||r,c=function(){var e=p(),t=e.setModal,n=e.closeModal,r=Object(g.c)();return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=e.initialValues;t({opened:!0,initialValues:a,title:a?"Edit project":"Project creation",content:re,validate:function(e){var t={};return e.label||(t.label="Requuired"),t},actions:[{label:"Cancel",requestClose:!0},{label:a?"Edit":"Add",type:"CONTENT_CONFIRMATION",onClick:function(e){var t=e.values;r(a?pe(t):de(t)),n()}}]})}}(),i=function(){var e=p(),t=e.setModal,n=e.closeModal,r=Object(g.c)();return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=e.initialValues;t({opened:!0,initialValues:a,title:a?"Label edit":"Label creation",content:oe,validate:function(e){var t={};return e.label||(t.label="Requuired"),t},actions:[{label:"Cancel",requestClose:!0},{label:a?"Edit":"Add",type:"CONTENT_CONFIRMATION",onClick:function(e){var t=e.values;r(a?je(t):Oe(t)),n()}}]})}}(),l=$(),u=Object(g.d)((function(e){return e.labels.labels})),s=ye(),d=Object(g.c)(),f=function(e,r){switch(e.stopPropagation(),t){case C:c();break;case w:i();break;case k:if("EDIT"===r.id)return void c({initialValues:l[n]});"DELETE"===r.id&&s({title:"Project Removal",message:"Are you sure you want to remove this task?",onConfirm:function(){var e;d((e=n,function(){var t=Object(L.a)(_.a.mark((function t(n,r,a){var o;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=a.apiMethods,t.prev=1,t.next=4,o.removeProject(e);case 4:n({type:se,payload:e}),t.next=9;break;case 7:t.prev=7,t.t0=t.catch(1);case 9:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(e,n,r){return t.apply(this,arguments)}}()))}});break;case I:if("EDIT"===r.id)return void i({initialValues:u.find((function(e){return e.id===n}))});"DELETE"===r.id&&s({title:"Label Removal",message:"Are you sure , you want to remove this label?",onConfirm:function(){var e;d((e=n,function(){var t=Object(L.a)(_.a.mark((function t(n,r,a){var o;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=a.apiMethods,t.prev=1,t.next=4,o.removeLabel(e);case 4:n({type:he,payload:e}),t.next=9;break;case 7:t.prev=7,t.t0=t.catch(1);case 9:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(e,n,r){return t.apply(this,arguments)}}()))}});break;default:return null}};switch(t){case C:case w:return a.a.createElement(Pe,{type:Ie,onClick:f,isVisible:o});case I:case k:return a.a.createElement(Pe,{isVisible:o,type:Re,onClick:function(e,t){return f(t,e)},contextMenuId:"CONTEXT_MENU_".concat(k,"_").concat(n),items:_e});default:return null}},Ve=function(){return a.a.createElement(x.b,null)},Me=function(){return a.a.createElement(x.a,null)};function Ne(){var e=Object(g.c)();return function(t,n){e(function(e,t){return function(){var n=Object(L.a)(_.a.mark((function n(r,a,o){var c,i;return _.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c=o.apiMethods,r({type:J,payload:N(e,t)}),i=z(a(),"view"),n.prev=3,n.next=6,c.updateUiState({view:i});case 6:n.next=10;break;case 8:n.prev=8,n.t0=n.catch(3);case 10:case"end":return n.stop()}}),n,null,[[3,8]])})));return function(e,t,r){return n.apply(this,arguments)}}()}(t,n))}}var Ae=a.a.memo((function(e){var t=e.item,n=e.itemType,r=e.opened,o=e.onToggle,c=e.customLeftIcon,i=e.rightIconVisible,l=e.isSubItem,u=e.visible,s=ge(),d=s.listeners,p=s.hovered,f=ge(),b=f.listeners,v=f.hovered,m=p||v,h=Ce(),O=h.colors.hoverBackground,j=h.sizes.menuItemHeight,E=Ne(),y=t.items&&t.items.length,g=l?"":"0.5px solid lightgrey",x=y&&r?38*t.items.length:0,T=m&&l&&u?O:"unset";return a.a.createElement("div",{onClick:function(e){return function(t){t.stopPropagation(),e.items?o(!r):E(n,e.id)}}(t),style:{marginLeft:20,borderBottom:g,cursor:"pointer"}},a.a.createElement("div",Object.assign({},d,{style:{position:"absolute",width:"100%",height:j,backgroundColor:T,left:0}})),a.a.createElement("div",Object.assign({},b,{style:{padding:"10px 0",maxHeight:j,borderBottom:r?g:""}}),a.a.createElement("div",{style:{display:"flex",alignItems:"center",position:"relative"}},c||(t.items?r?a.a.createElement(Me,null):a.a.createElement(Ve,null):a.a.createElement("div",{style:{width:10,height:10,borderRadius:10,backgroundColor:t.color,marginRight:10}})),a.a.createElement("div",{style:{marginLeft:l?5:15,display:"flex",fontWeight:l?"normal":"bold"}},t.label,t.activeTodos>0&&a.a.createElement("div",{style:{marginLeft:10,fontSize:13,color:"grey",alignSelf:"flex-end"}},t.activeTodos)),a.a.createElement("div",{style:{flex:1}}),a.a.createElement(Le,{type:t.rightButtonType,itemId:t.id,isVisible:!!i&&(!l||m)}))),y?a.a.createElement("div",{style:{height:x,overflow:"hidden",transition:"height 0.3s",paddingBottom:2}},t.items.map((function(e){return a.a.createElement(Ae,{visible:r,isSubItem:!0,key:e.id,itemType:n,item:e,rightIconVisible:i})}))):null)})),De=Ae;var Be=function(){var e=q(U),t=Object(l.a)(e,2),n=t[0],r=t[1],o=q(F),c=Object(l.a)(o,2),u=c[0],s=c[1],d=Object(g.d)((function(e){return e.labels.labels})),p=G(),f=function(){var e=K();return W(e,S)}(),b=ge(),v=b.hovered,m=b.listeners;return a.a.createElement("div",Object.assign({},m,{style:{width:200,height:"fit-content",minHeight:400,border:"1px solid rgba(0,0,0,0.49)",borderRadius:20,marginRight:30,boxShadow:"4px 4px 7px 0px rgba(0,0,0,0.49)",display:"flex",flexDirection:"column",paddingTop:20,paddingBottom:20,paddingRight:20,position:"relative"}}),f.map((function(e){return a.a.createElement(De,{isSubItem:!0,key:e.id,item:e,customLeftIcon:e.icon,itemType:"PROJECTS"})})),a.a.createElement(De,{rightIconVisible:v,opened:n,onToggle:r,item:{label:"Projects",items:p.map((function(e){return Object(i.a)({},e,{rightButtonType:k})})),rightButtonType:C},itemType:"PROJECTS"}),a.a.createElement(De,{rightIconVisible:v,opened:u,onToggle:s,item:{label:"Labels",items:d.map((function(e){return Object(i.a)({},e,{rightButtonType:I})})),rightButtonType:w},itemType:"LABELS"}))},Je=n(142),Ue=function(e){var t=e.checked,n=e.onChange;return a.a.createElement(Je.a,{checked:t,onChange:n})},Fe=[{label:"Remove",id:"REMOVE"},{label:"Edit",id:"EDIT"}],He=function(e){var t=e.item,n=e.onTodoRemoved,o=e.onTodoEdited,c=ye(),u=ge(),s=u.listeners,d=u.hovered,p=Ee({onConfirm:function(e){o(e)}}),f=Object(r.useState)(t.done),b=Object(l.a)(f,2),v=b[0],m=b[1],h="TODO_CONTEXT_MENU_".concat(t.id);return a.a.createElement("div",Object.assign({},s,{style:{opacity:v?0:1,transition:"opacity 0.5s",border:"0.2px solid black",padding:10,borderRadius:5,marginBottom:10,boxShadow:"2px 2px 7px 0px rgba(0,0,0,0.49)",display:"flex"}}),a.a.createElement(Ue,{checked:v,onChange:function(){m(!v),setTimeout((function(){o(Object(i.a)({},t,{done:!t.done}))}),500)}}),a.a.createElement("div",{style:{flex:1,marginLeft:5}},t.title),a.a.createElement("div",{style:{width:10,height:10,cursor:"pointer",position:"relative"}},d&&a.a.createElement("div",{style:{width:10,height:10,position:"relative",cursor:"pointer"}},a.a.createElement(Pe,{type:Re,onClick:function(e){switch(e.id){case"REMOVE":c({title:"Todo Removal",message:"Are you sure you want to remove this task?",onConfirm:function(){n(t)}});break;case"EDIT":p({initialValues:t})}},contextMenuId:h,items:Fe}))))},ze=function(e){var t=e.onTodoCreated,n=ge(),r=n.listeners,o=n.hovered,c=Ee({onConfirm:function(e){t(e)}}),i=o?"lightGray":"";return a.a.createElement("div",Object.assign({onClick:c},r,{style:{cursor:"pointer",backgroundColor:i,padding:"5px 15px",borderRadius:20}}),a.a.createElement("span",{style:{fontWeight:"bold",fontSize:20,marginRight:10}},"+"),a.a.createElement("span",null,"Add ticket"))},qe="CREATE_TODO",We="REMOVE_TODO",Xe="EDIT_TODO",Ke="FETCH_TODOS_FINNISH",Ge="FETCH_TODOS_START";var $e=function(){var e=function(){var e=$(!0),t=A(X()),n=t.filterType,r=t.itemId,a="PROJECTS"===n?e:{};return Object(H.get)(a,r)}(),t=Ce().sizes;return e?a.a.createElement("div",{style:{padding:"0 10px 15px",display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"baseline"}},a.a.createElement("div",{style:{fontSize:t.todoViewTitleSize,fontWeight:"bold"}},e.label),a.a.createElement("div",{style:{cursor:"pointer"}},a.a.createElement(Le,{type:k,itemId:e.id}))):null};var Qe=Object(g.b)(null,(function(e){return{onTodoCreated:function(t){var n;e((n=t,function(){var e=Object(L.a)(_.a.mark((function e(t,r,a){var o,c,i;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=a.apiMethods,e.prev=1,e.next=4,o.createTodo(n);case 4:c=e.sent,i=c.data,t({type:qe,payload:i}),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(1);case 11:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,n,r){return e.apply(this,arguments)}}()))},onTodoRemoved:function(t){var n;e((n=t,function(){var e=Object(L.a)(_.a.mark((function e(t,r,a){var o;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=a.apiMethods,e.prev=1,e.next=4,o.removeTodo(n.id);case 4:t({type:We,payload:n}),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(1);case 9:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t,n,r){return e.apply(this,arguments)}}()))},onTodoEdited:function(t){var n;e((n=t,function(){var e=Object(L.a)(_.a.mark((function e(t,r,a){var o;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=a.apiMethods,e.prev=1,e.next=4,o.editTodo(n);case 4:t({type:Xe,payload:n}),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(1);case 9:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t,n,r){return e.apply(this,arguments)}}()))}}}))((function(e){var t=e.onTodoCreated,n=e.onTodoRemoved,r=e.onTodoEdited,o=Q();return a.a.createElement("div",{style:{flex:1,display:"flex",flexDirection:"column"}},a.a.createElement($e,null),o.map((function(e){return a.a.createElement(He,{key:e.id,item:e,onTodoRemoved:n,onTodoEdited:r})})),a.a.createElement(ze,{onTodoCreated:t}))})),Ye=n(23),Ze={data:[],indexedTodos:{},projectTodoViews:{}};function et(e,t,n){var r=String(t).split("."),a=r.shift();return 0===r.length?Object(i.a)({},e,Object(b.a)({},a,n)):Object(i.a)({},e,Object(b.a)({},a,et(e[a],r.join("."),n)))}function tt(e,t){var n=N("PROJECTS",t.projectId),r=Object(H.get)(e,n,[]);return Object(i.a)({},e,Object(b.a)({},n,[].concat(Object(y.a)(r),[t.id])))}function nt(e){return e.reduce((function(e,t){var n=N("PROJECTS",t.projectId),r=Object(H.get)(e,n,[]);return Object(i.a)({},e,Object(b.a)({},n,[].concat(Object(y.a)(r),[t.id])))}),{})}function rt(e,t){var n=t.projectId,r=t.id,a=N("PROJECTS",n),o=Object(H.get)(e,a,[]);return Object(i.a)({},e,Object(b.a)({},a,o.filter((function(e){return e!==r}))))}function at(e,t){var n=e.data,r=e.indexedTodos,a=e.projectTodoViews,o=(n.find((function(e){return e.id===t.id}))||{}).projectId,c=N("PROJECTS",o),l=N("PROJECTS",t.projectId),u={data:n.map((function(e){return e.id===t.id?t:e})),indexedTodos:Object(i.a)({},r,Object(b.a)({},t.id,t))};if(o!==t.projectId){var s,d=Object(i.a)({},a,(s={},Object(b.a)(s,c,a[c].filter((function(e){return e!==t.id}))),Object(b.a)(s,l,[].concat(Object(y.a)(a[l]||[]),[t.id])),s));return Object(i.a)({},u,{projectTodoViews:d})}return Object(i.a)({},u,{projectTodoViews:a})}var ot={indexedProjects:{},projects:[],loading:!1};function ct(e,t){return e.reduce((function(e,n){return Object(i.a)({},e,Object(b.a)({},Object(H.get)(n,t),n))}),{})}function it(e,t,n){return e.map((function(e){return e[t]===n[t]?Object(i.a)({},e,{},n):e}))}function lt(e,t,n){return e.filter((function(e){return e[t]!==n}))}var ut,st=(ut={},Object(b.a)(ut,U,!1),Object(b.a)(ut,"view",{currentView:N("PROJECTS",R)}),ut);var dt={labels:[]},pt=Object(Ye.c)({todos:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ze,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case qe:return Object(i.a)({},e,{data:[].concat(Object(y.a)(e.data),[t.payload]),indexedTodos:et(e.indexedTodos,t.payload.id,t.payload),projectTodoViews:tt(e.projectTodoViews,t.payload)});case We:return Object(i.a)({},e,{data:e.data.filter((function(e){return e.id!==t.payload.id})),indexedTodos:Object(i.a)({},e.indexedTodos,Object(b.a)({},t.payload.id,void 0)),projectTodoViews:rt(e.projectTodoViews,t.payload)});case Xe:return Object(i.a)({},e,{},at(e,t.payload));case Ke:return Object(i.a)({},e,{data:t.payload,indexedTodos:t.payload.reduce((function(e,t){return Object(i.a)({},e,Object(b.a)({},t.id,t))}),{}),projectTodoViews:nt(t.payload)});default:return e}},projects:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ot,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case se:return Object(i.a)({},e,{projects:lt(e.projects,"id",t.payload),indexedProjects:Object(i.a)({},e.indexedProjects,Object(b.a)({},t.payload,void 0))});case ue:return Object(i.a)({},e,{projects:it(e.projects,"id",t.payload),indexedProjects:Object(i.a)({},e.indexedProjects,Object(b.a)({},t.payload.id,Object(i.a)({},e.indexedProjects[t.payload.id],{},t.payload)))});case le:return Object(i.a)({},e,{loading:!1,projects:t.payload,indexedProjects:ct(t.payload,"id")});case ie:return Object(i.a)({},e,{loading:!0});case ce:return Object(i.a)({},e,{projects:[].concat(Object(y.a)(e.projects),[t.payload]),indexedProjects:Object(i.a)({},e.indexedProjects,Object(b.a)({},t.payload.id,t.payload))});default:return e}},labels:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case fe:return Object(i.a)({},e,{labels:[].concat(Object(y.a)(e.labels),[t.payload])});case he:return Object(i.a)({},e,{labels:e.labels.filter((function(e){return e.id!==t.payload}))});case ve:return Object(i.a)({},e,{labels:t.payload});case me:return Object(i.a)({},e,{labels:e.labels.map((function(e){return e.id===t.payload.id?t.payload:e}))});default:return e}},uiState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:st,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case J:return Object(i.a)({},e,{view:Object(i.a)({},e.view,{currentView:t.payload})});case D:return Object(i.a)({},e,Object(b.a)({},t.field,t.value));case B:return Object(i.a)({},e,{},t.payload);default:return e}}}),ft=n(140),bt=n(141);function vt(e,t){return new Promise((function(n){var r=localStorage.getItem(e);if(r)try{n(JSON.parse(r))}catch(a){n(r)}n(t)}))}function mt(e,t){return new Promise((function(n){localStorage.setItem(e,JSON.stringify(t)),n()}))}var ht="projects",Ot="uiState",jt="todos",Et="labels";function yt(e){return Object(i.a)({},e,{id:Date.now()})}var gt=new function e(){var t=this;Object(bt.a)(this,e),this.getTodos=function(){return vt(jt,[])},this.createTodo=function(){var e=Object(L.a)(_.a.mark((function e(n){var r,a;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getTodos();case 2:return r=e.sent,o=n,a=Object(i.a)({},o,{done:!1,id:Date.now()}),mt(jt,[].concat(Object(y.a)(r),[a])),e.abrupt("return",Promise.resolve({data:a}));case 6:case"end":return e.stop()}var o}),e)})));return function(t){return e.apply(this,arguments)}}(),this.removeTodo=function(){var e=Object(L.a)(_.a.mark((function e(n){var r,a;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getTodos();case 2:return r=e.sent,a=r.filter((function(e){return e.id!==n})),mt(jt,a),e.abrupt("return",Promise.resolve());case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.editTodo=function(){var e=Object(L.a)(_.a.mark((function e(n){var r,a;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getTodos();case 2:return r=e.sent,a=r.map((function(e){return e.id===n.id?n:e})),mt(jt,a),e.abrupt("return",Promise.resolve());case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.removeProject=function(){var e=Object(L.a)(_.a.mark((function e(n){var r,a;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getProjects();case 2:return r=e.sent,a=r.filter((function(e){return e.id!==n})),mt(ht,a),e.abrupt("return",Promise.resolve());case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.updateProject=function(){var e=Object(L.a)(_.a.mark((function e(n){var r,a;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getProjects();case 2:return r=e.sent,a=r.map((function(e){return e.id===n.id?Object(i.a)({},e,{},n):e})),mt(ht,a),e.abrupt("return",Promise.resolve());case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getProjects=function(){return vt(ht,[])},this.createProject=function(){var e=Object(L.a)(_.a.mark((function e(n){var r,a;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getProjects();case 2:return r=e.sent,a=yt(n),mt(ht,[].concat(Object(y.a)(r),[a])),e.abrupt("return",Promise.resolve({data:a}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getUiState=function(){return vt(Ot,null)},this.updateUiState=function(){var e=Object(L.a)(_.a.mark((function e(n){var r;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getUiState();case 2:return r=e.sent,mt(Ot,Object(i.a)({},r,{},n)),e.abrupt("return",Promise.resolve());case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getLabels=function(){return vt(Et,[])},this.createLabel=function(){var e=Object(L.a)(_.a.mark((function e(n){var r,a;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getLabels();case 2:return r=e.sent,a=yt(n),mt(Et,[].concat(Object(y.a)(r),[a])),e.abrupt("return",Promise.resolve({labels:a}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.removeLabel=function(){var e=Object(L.a)(_.a.mark((function e(n){var r,a;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getLabels();case 2:return r=e.sent,a=r.filter((function(e){return e.id!==n})),mt(Et,a),e.abrupt("return",Promise.resolve());case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.updateLabel=function(){var e=Object(L.a)(_.a.mark((function e(n){var r,a;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getLabels();case 2:return r=e.sent,a=r.map((function(e){return e.id===n.id?Object(i.a)({},e,{},n):e})),mt(Et,a),e.abrupt("return",Promise.resolve());case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},xt=a.a.createContext({}),Tt=function(e){var t=e.children;return a.a.createElement(xt.Provider,{value:{getMenuItems:function(){}}},t)},Ct=Object(Ye.e)(pt,Object(Ye.d)(Object(Ye.a)(ft.a.withExtraArgument({apiMethods:gt})),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()));Ct.dispatch(function(){var e=Object(L.a)(_.a.mark((function e(t,n,r){var a,o;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.apiMethods,t({type:be}),e.prev=2,e.next=5,a.getLabels();case 5:o=e.sent,t({type:ve,payload:o}),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(2);case 11:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t,n,r){return e.apply(this,arguments)}}()),Ct.dispatch(function(){var e=Object(L.a)(_.a.mark((function e(t,n,r){var a,o;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.apiMethods,t({type:ie}),e.prev=2,e.next=5,a.getProjects();case 5:o=e.sent,t({type:le,payload:o}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),t({type:le,payload:[]});case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t,n,r){return e.apply(this,arguments)}}()),Ct.dispatch(function(){var e=Object(L.a)(_.a.mark((function e(t,n,r){var a,o;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.apiMethods,e.prev=1,e.next=4,a.getUiState();case 4:(o=e.sent)&&t({type:B,payload:o}),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(1);case 10:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,n,r){return e.apply(this,arguments)}}()),Ct.dispatch(function(){var e=Object(L.a)(_.a.mark((function e(t,n,r){var a,o;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.apiMethods,t({type:Ge}),e.prev=2,e.next=5,a.getTodos();case 5:o=e.sent,t({type:Ke,payload:o}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),t({type:Ke,payload:[]});case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t,n,r){return e.apply(this,arguments)}}());var wt=function(){return a.a.createElement(g.a,{store:Ct},a.a.createElement(f,null,a.a.createElement(Tt,null,a.a.createElement("div",{style:{padding:50,paddingTop:100}},a.a.createElement("div",{style:{display:"flex",flexDirection:"row",flex:1,justifyContent:"center"}},a.a.createElement("div",{style:{maxWidth:"70%",flex:1,display:"flex",flexDirection:"row",justifyContent:"center"}},a.a.createElement(Be,null),a.a.createElement(Qe,null)))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(wt,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[143,1,2]]]);
//# sourceMappingURL=main.b5ea46f1.chunk.js.map